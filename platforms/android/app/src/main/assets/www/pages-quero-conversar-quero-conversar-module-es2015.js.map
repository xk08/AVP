{"version":3,"sources":["./src/app/pages/quero-conversar/quero-conversar.page.html","./src/app/pages/quero-conversar/quero-conversar.module.ts","./src/app/pages/quero-conversar/quero-conversar.page.scss","./src/app/pages/quero-conversar/quero-conversar.page.ts","./src/app/services/queroConversar/quero-conversar.service.ts"],"names":[],"mappings":"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","file":"pages-quero-conversar-quero-conversar-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"login\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Pode falar</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-card>\\r\\n    <ion-grid>\\r\\n      <form #form=\\\"ngForm\\\">\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-item>\\r\\n              <ion-textarea\\r\\n                name=\\\"textoLivre\\\"\\r\\n                autofocus=\\\"true\\\"\\r\\n                [(ngModel)]='todas.textoLivre'\\r\\n                required\\r\\n                rows=\\\"4\\\"\\r\\n                cols=\\\"10\\\"\\r\\n                placeholder=\\\"O que você está pensando ?\\\"\\r\\n              ></ion-textarea>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n\\r\\n\\r\\n            <ion-item>\\r\\n              <ion-label>Como está se sentindo hoje ?</ion-label>\\r\\n            </ion-item>\\r\\n\\r\\n\\r\\n          <ion-item\\r\\n            *ngFor=\\\"let star of stars ; let i = index\\\"\\r\\n            tappable\\r\\n            (click)=\\\"starClicked(i)\\\"\\r\\n            [(ngModel)]=\\\"todas.avaliacao\\\"\\r\\n            name=\\\"avaliacao\\\"\\r\\n          >\\r\\n            <ion-icon [name]=\\\"star\\\"></ion-icon>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-col></ion-col>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-list>\\r\\n              <ion-grid fixed>\\r\\n\\r\\n                <ion-col size=\\\"12\\\"></ion-col>\\r\\n              </ion-grid>\\r\\n            </ion-list>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-button\\r\\n              expand=\\\"full\\\"\\r\\n              (click)=\\\"saveTodo()\\\"\\r\\n            >\\r\\n              OK\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </form>\\r\\n\\r\\n    </ion-grid>\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { QueroConversarPage } from './quero-conversar.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: QueroConversarPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [SharedModule, RouterModule.forChild(routes)],\r\n  declarations: [QueroConversarPage]\r\n})\r\nexport class QueroConversarPageModule {}\r\n","module.exports = \"ion-rating-container {\\n  font-size: 30;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcXVlcm8tY29udmVyc2FyL0Q6XFxtYXJjb3NcXFRDQ1xcdGNjL3NyY1xcYXBwXFxwYWdlc1xccXVlcm8tY29udmVyc2FyXFxxdWVyby1jb252ZXJzYXIucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9xdWVyby1jb252ZXJzYXIvcXVlcm8tY29udmVyc2FyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3F1ZXJvLWNvbnZlcnNhci9xdWVyby1jb252ZXJzYXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXJhdGluZy1jb250YWluZXIge1xyXG4gIGZvbnQtc2l6ZTogMzA7XHJcbn1cclxuIiwiaW9uLXJhdGluZy1jb250YWluZXIge1xuICBmb250LXNpemU6IDMwO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { QueroConversar } from 'src/app/services/queroConversar/queroConversar';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { LoadingController, NavController } from '@ionic/angular';\r\nimport { QueroConversarService } from 'src/app/services/queroConversar/quero-conversar.service';\r\nimport { OverlayService } from 'src/app/core/overlay.service';\r\n\r\n@Component({\r\n  selector: 'app-quero-conversar',\r\n  templateUrl: './quero-conversar.page.html',\r\n  styleUrls: ['./quero-conversar.page.scss']\r\n})\r\nexport class QueroConversarPage implements OnInit {\r\n  //Refernete ao ratebar\r\n  @Input() numStars: number = 5;\r\n  @Input() valor: number = 0;\r\n  @Output() ionClick: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  stars: string[] = [];\r\n\r\n  @ViewChild('form', null) form: NgForm;\r\n\r\n  geral: number;\r\n  public todas: QueroConversar = {\r\n    id: '',\r\n    textoLivre: '',\r\n    avaliacao: 0\r\n  };\r\n\r\n  private idQueroConversar: string;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private loadingController: LoadingController,\r\n    private queroConversarService: QueroConversarService,\r\n    private navCtrl: NavController,\r\n    private overlay: OverlayService\r\n  ) {}\r\n\r\n  //RatebarStar\r\n\r\n  calc() {\r\n    this.stars = [];\r\n    let tmp = this.valor;\r\n    for (let i = 0; i < this.numStars; i++, tmp--) {\r\n      if (tmp >= 1) this.stars.push('star');\r\n      else if (tmp > 0 && tmp < 1) this.stars.push('star-half');\r\n      else this.stars.push('star-outline');\r\n    }\r\n  }\r\n\r\n  starClicked(index) {\r\n    this.valor = index + 1;\r\n    this.ionClick.emit(this.valor);\r\n    this.calc();\r\n    this.geral = this.valor;\r\n  }\r\n\r\n  logRatingChange(rating) {\r\n    console.log('changed rating: ', rating);\r\n    // do your stuff\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.calc();\r\n    this.idQueroConversar = this.route.snapshot.params['id'];\r\n\r\n    if (this.idQueroConversar) {\r\n      this.loadTodo();\r\n    }\r\n  }\r\n\r\n  async loadTodo() {\r\n    const loading = await this.loadingController.create({\r\n      message: 'Carregando Dados Informados...'\r\n    });\r\n    await loading.present();\r\n\r\n    this.queroConversarService.getTodo(this.idQueroConversar).subscribe(res => {\r\n      loading.dismiss();\r\n      this.todas = res;\r\n    });\r\n  }\r\n\r\n  async saveTodo() {\r\n    const loading = await this.loadingController.create({\r\n      message: 'Salvando dados que foram informados'\r\n    });\r\n    await loading.present();\r\n\r\n    if (this.idQueroConversar) {\r\n      this.todas.avaliacao = this.geral;\r\n      this.queroConversarService.updateTodo(this.todas, this.idQueroConversar).then(() => {\r\n        loading.dismiss();\r\n        this.navCtrl.navigateBack('/menu/home');\r\n      });\r\n    } else {\r\n      this.todas.avaliacao = this.geral;\r\n      this.queroConversarService.addTodo(this.todas).then(() => {\r\n        loading.dismiss();\r\n        this.navCtrl.navigateBack('/menu/home');\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\r\nimport { QueroConversar } from './queroConversar';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class QueroConversarService {\r\n  private todosCollection: AngularFirestoreCollection<QueroConversar>;\r\n\r\n  constructor(db: AngularFirestore) {\r\n    this.todosCollection = db.collection<QueroConversar>('QueroConversar'); // Criando a coleção\r\n  }\r\n\r\n  getTodos() {\r\n    return this.todosCollection.snapshotChanges().pipe(\r\n      map(actions => {\r\n        return actions.map(a => {\r\n          const data = a.payload.doc.data();\r\n          const id = a.payload.doc.id;\r\n          return { id, ...data };\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getTodo(id) {\r\n    return this.todosCollection.doc<QueroConversar>(id).valueChanges();\r\n  }\r\n\r\n  updateTodo(toda: QueroConversar, id: string) {\r\n    return this.todosCollection.doc(id).update(toda);\r\n  }\r\n\r\n  addTodo(toda: QueroConversar) {\r\n    return this.todosCollection.add(toda);\r\n  }\r\n\r\n  removeTodo(id) {\r\n    return this.todosCollection.doc(id).delete();\r\n  }\r\n}\r\n"],"sourceRoot":""}