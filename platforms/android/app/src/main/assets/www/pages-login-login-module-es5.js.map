{"version":3,"sources":["./src/app/pages/login/login.page.html","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.ts","./src/app/services/user.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"secondary\\\">\\r\\n      <ion-title>Acessando o assistente</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n  <ion-content padding>\\r\\n  <ion-grid>\\r\\n    <!-- alinha no centro e define pra coluna a resolucao de acordo com o tamanho da tela -->\\r\\n    <ion-row justify-content-center>\\r\\n      <ion-col\\r\\n        size-sm=\\\"8\\\"\\r\\n        size-md=\\\"12\\\"\\r\\n        size-lg=\\\"3\\\"\\r\\n        size-xl=\\\"3\\\"\\r\\n      >\\r\\n     <!-- arrumar essas pohha de padding -->\\r\\n\\r\\n      \\r\\n    <h1 style=text-align:center>\\r\\n      <img src=\\\"../../../assets/img/avp.png\\\" width=\\\"180px\\\" height=\\\"160px\\\">\\r\\n    </h1>\\r\\n        \\r\\n\\r\\n      \\r\\n      <form #form=\\\"ngForm\\\">\\r\\n        <ion-item>\\r\\n            <ion-icon \\r\\n              color=\\\"medium\\\"\\r\\n              name=\\\"mail\\\"\\r\\n              slot=\\\"start\\\"\\r\\n            ></ion-icon>\\r\\n            <ion-input\\r\\n              type=\\\"email\\\"\\r\\n              name=\\\"email\\\"\\r\\n              placeholder=\\\"Informe seu e-mail\\\"\\r\\n              inputmode=\\\"email\\\"\\r\\n              autofocus=\\\"true\\\"\\r\\n              [(ngModel)]=\\\"user.email\\\"\\r\\n              required\\r\\n            ></ion-input>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item>\\r\\n            <ion-icon\\r\\n             color=\\\"medium\\\"\\r\\n              name=\\\"lock\\\"\\r\\n              slot=\\\"start\\\"\\r\\n            ></ion-icon>\\r\\n            <ion-input\\r\\n              type=\\\"password\\\"\\r\\n              name=\\\"password\\\"\\r\\n              placeholder=\\\"Informe sua senha\\\"\\r\\n              [(ngModel)]=\\\"user.password\\\"\\r\\n              required\\r\\n            ></ion-input>\\r\\n          </ion-item>\\r\\n        </form>\\r\\n\\r\\n        <ion-content>\\r\\n    <ion-button\\r\\n    expand=\\\"block\\\"\\r\\n    type=\\\"submit\\\"\\r\\n    color=\\\"secondary\\\"\\r\\n    (click)=\\\"signIn()\\\"\\r\\n    \\r\\n\\r\\n  >\\r\\n    Acessar\\r\\n  </ion-button>\\r\\n\\r\\n<ion-button\\r\\n  expand=\\\"block\\\"\\r\\n  fill=\\\"clear\\\"\\r\\n  (click)=\\\"createAccount()\\\"\\r\\n>\\r\\n  Participar\\r\\n</ion-button>\\r\\n\\r\\n</ion-content>\\r\\n          \\r\\n\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginPage } from './login.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [SharedModule, RouterModule.forChild(routes)],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"div {\\n  margin-left: auto;\\n  margin-right: auto;\\n  align-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n#corRoxa {\\n  color: #8e68a1;\\n}\\n\\n#corCyan {\\n  color: #0fb3a3;\\n}\\n\\nion-button {\\n  color: #0fb3a3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vRDpcXHRjYy9zcmNcXGFwcFxccGFnZXNcXGxvZ2luXFxsb2dpbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNDSjs7QURFRTtFQUNFLGNBQUE7QUNDSjs7QURFRTtFQUNFLGNBQUE7QUNDSjs7QURFRTtFQUNFLGNBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdiB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAjY29yUm94YSB7XHJcbiAgICBjb2xvcjogIzhlNjhhMTtcclxuICB9XHJcblxyXG4gICNjb3JDeWFuIHtcclxuICAgIGNvbG9yOiAjMGZiM2EzO1xyXG4gIH1cclxuXHJcbiAgaW9uLWJ1dHRvbntcclxuICAgIGNvbG9yOiAjMGZiM2EzO1xyXG4gIH1cclxuXHJcbiBcclxuICAiLCJkaXYge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbiNjb3JSb3hhIHtcbiAgY29sb3I6ICM4ZTY4YTE7XG59XG5cbiNjb3JDeWFuIHtcbiAgY29sb3I6ICMwZmIzYTM7XG59XG5cbmlvbi1idXR0b24ge1xuICBjb2xvcjogIzBmYjNhMztcbn0iXX0= */\"","import { Component, ViewChild } from '@angular/core';\r\nimport { User } from 'src/app/services/user';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Network } from '@ionic-native/network/ngx';\r\nimport { UsuarioCadastroService } from 'src/app/services/usuarioCadastro/usuario-cadastro.service';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AssistenteCadastroService } from 'src/app/services/assistenteCadastro/assistente-cadastro.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss']\r\n})\r\nexport class LoginPage {\r\n  user: User = new User();\r\n  @ViewChild('form', null) form: NgForm;\r\n\r\n  constructor(\r\n    public router: Router,\r\n    private authService: AuthService,\r\n    private toastController: ToastController,\r\n    private network: Network,\r\n    private usuarioCadastro: UsuarioCadastroService,\r\n    private assistenteCadastro: AssistenteCadastroService,\r\n    private auth: AngularFireAuth\r\n  ) {\r\n    let disconnectSubscription = this.network.onDisconnect().subscribe(() => {\r\n      this.presentToast('NetWork Desconectada! :-(');\r\n    });\r\n  }\r\n  async presentToast(msg: string) {\r\n    const toast = await this.toastController.create({\r\n      message: msg,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  createAccount() {\r\n    this.router.navigate(['usuario/cadastro']);\r\n  }\r\n\r\n  signIn() {\r\n    // achar aqui uma maneira de redirecinar\r\n    if (this.form.form.valid) {\r\n      this.authService\r\n        .signIn(this.user)\r\n        .then(() => {\r\n          this.usuarioCadastro.getUsuario(this.auth.auth.currentUser.uid).subscribe( res => {\r\n            if(res.isProfissional){\r\n              this.router.navigate(['menu/home']); //Direciona após logado\r\n            }else{\r\n              this.router.navigate(['menu/home']); //Direciona após logad\r\n            }\r\n          });\r\n        })\r\n        .catch((error: any) => {\r\n          if (error.code == 'auth/invalid-email') {\r\n            this.presentToast('E-mail invalido');\r\n          } else if (error.code == 'auth/user-disabled') {\r\n            this.presentToast('Usuario desativado');\r\n          } else if (error.code == 'auth/user-not-found') {\r\n            this.presentToast('Usuario não encontrado');\r\n          } else if (error.code == 'auth/wrong-password') {\r\n            this.presentToast('Senha invalida');\r\n          }\r\n        });\r\n    }\r\n  }\r\n}\r\n","export class User {\r\n  email: string;\r\n  password: string;\r\n}\r\n"],"sourceRoot":""}