{"version":3,"sources":["./src/app/pages/login/login.page.html","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.ts","./src/app/services/user.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"secondary\\\">\\r\\n      <ion-title>Acessando o assistente</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n  <ion-content padding>\\r\\n  <ion-grid>\\r\\n    <!-- alinha no centro e define pra coluna a resolucao de acordo com o tamanho da tela -->\\r\\n    <ion-row justify-content-center>\\r\\n      <ion-col\\r\\n        size-sm=\\\"8\\\"\\r\\n        size-md=\\\"12\\\"\\r\\n        size-lg=\\\"3\\\"\\r\\n        size-xl=\\\"3\\\"\\r\\n      >\\r\\n     <!-- arrumar essas pohha de padding -->\\r\\n\\r\\n      \\r\\n    <h1 style=text-align:center>\\r\\n      <img src=\\\"../../../assets/img/avp.png\\\" width=\\\"180px\\\" height=\\\"160px\\\">\\r\\n    </h1>\\r\\n        \\r\\n\\r\\n      \\r\\n      <form #form=\\\"ngForm\\\">\\r\\n        <ion-item>\\r\\n            <ion-icon \\r\\n              color=\\\"medium\\\"\\r\\n              name=\\\"mail\\\"\\r\\n              slot=\\\"start\\\"\\r\\n            ></ion-icon>\\r\\n            <ion-input\\r\\n              type=\\\"email\\\"\\r\\n              name=\\\"email\\\"\\r\\n              placeholder=\\\"Informe seu e-mail\\\"\\r\\n              inputmode=\\\"email\\\"\\r\\n              autofocus=\\\"true\\\"\\r\\n              [(ngModel)]=\\\"user.email\\\"\\r\\n              required\\r\\n            ></ion-input>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item>\\r\\n            <ion-icon\\r\\n             color=\\\"medium\\\"\\r\\n              name=\\\"lock\\\"\\r\\n              slot=\\\"start\\\"\\r\\n            ></ion-icon>\\r\\n            <ion-input\\r\\n              type=\\\"password\\\"\\r\\n              name=\\\"password\\\"\\r\\n              placeholder=\\\"Informe sua senha\\\"\\r\\n              [(ngModel)]=\\\"user.password\\\"\\r\\n              required\\r\\n            ></ion-input>\\r\\n          </ion-item>\\r\\n        </form>\\r\\n\\r\\n        <ion-content>\\r\\n    <ion-button\\r\\n    expand=\\\"block\\\"\\r\\n    type=\\\"submit\\\"\\r\\n    color=\\\"secondary\\\"\\r\\n    (click)=\\\"signIn()\\\"\\r\\n    \\r\\n\\r\\n  >\\r\\n    Acessar\\r\\n  </ion-button>\\r\\n\\r\\n<ion-button\\r\\n  expand=\\\"block\\\"\\r\\n  fill=\\\"clear\\\"\\r\\n  (click)=\\\"createAccount()\\\"\\r\\n>\\r\\n  Participar\\r\\n</ion-button>\\r\\n\\r\\n</ion-content>\\r\\n          \\r\\n\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginPage } from './login.page';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [SharedModule, RouterModule.forChild(routes)],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \"div {\\n  margin-left: auto;\\n  margin-right: auto;\\n  align-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n#corRoxa {\\n  color: #8e68a1;\\n}\\n\\n#corCyan {\\n  color: #0fb3a3;\\n}\\n\\nion-button {\\n  color: #0fb3a3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vRDpcXG1hcmNvc1xcVENDXFx0Y2Mvc3JjXFxhcHBcXHBhZ2VzXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDQ0o7O0FERUU7RUFDRSxjQUFBO0FDQ0o7O0FERUU7RUFDRSxjQUFBO0FDQ0o7O0FERUU7RUFDRSxjQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJkaXYge1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgI2NvclJveGEge1xyXG4gICAgY29sb3I6ICM4ZTY4YTE7XHJcbiAgfVxyXG5cclxuICAjY29yQ3lhbiB7XHJcbiAgICBjb2xvcjogIzBmYjNhMztcclxuICB9XHJcblxyXG4gIGlvbi1idXR0b257XHJcbiAgICBjb2xvcjogIzBmYjNhMztcclxuICB9XHJcblxyXG4gXHJcbiAgIiwiZGl2IHtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4jY29yUm94YSB7XG4gIGNvbG9yOiAjOGU2OGExO1xufVxuXG4jY29yQ3lhbiB7XG4gIGNvbG9yOiAjMGZiM2EzO1xufVxuXG5pb24tYnV0dG9uIHtcbiAgY29sb3I6ICMwZmIzYTM7XG59Il19 */\"","import { Component, ViewChild } from '@angular/core';\r\nimport { User } from 'src/app/services/user';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Network } from '@ionic-native/network/ngx';\r\nimport { UsuarioCadastroService } from 'src/app/services/usuarioCadastro/usuario-cadastro.service';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AssistenteCadastroService } from 'src/app/services/assistenteCadastro/assistente-cadastro.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss']\r\n})\r\nexport class LoginPage {\r\n  user: User = new User();\r\n  @ViewChild('form', null) form: NgForm;\r\n\r\n  constructor(\r\n    public router: Router,\r\n    private authService: AuthService,\r\n    private toastController: ToastController,\r\n    private network: Network,\r\n    private usuarioCadastro: UsuarioCadastroService,\r\n    private assistenteCadastro: AssistenteCadastroService,\r\n    private auth: AngularFireAuth\r\n  ) {\r\n    let disconnectSubscription = this.network.onDisconnect().subscribe(() => {\r\n      this.presentToast('NetWork Desconectada! :-(');\r\n    });\r\n  }\r\n  async presentToast(msg: string) {\r\n    const toast = await this.toastController.create({\r\n      message: msg,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  createAccount() {\r\n    this.router.navigate(['usuario/cadastro']);\r\n  }\r\n\r\n  signIn() {\r\n    // achar aqui uma maneira de redirecinar\r\n    if (this.form.form.valid) {\r\n      this.authService\r\n        .signIn(this.user)\r\n        .then(() => {\r\n          this.usuarioCadastro.getUsuario(this.auth.auth.currentUser.uid).subscribe( res => {\r\n            if(res.isProfissional){\r\n              this.router.navigate(['menu/home']); //Direciona após logado\r\n            }else{\r\n              this.router.navigate(['menu/home']); //Direciona após logad\r\n            }\r\n          });\r\n        })\r\n        .catch((error: any) => {\r\n          if (error.code == 'auth/invalid-email') {\r\n            this.presentToast('E-mail invalido');\r\n          } else if (error.code == 'auth/user-disabled') {\r\n            this.presentToast('Usuario desativado');\r\n          } else if (error.code == 'auth/user-not-found') {\r\n            this.presentToast('Usuario não encontrado');\r\n          } else if (error.code == 'auth/wrong-password') {\r\n            this.presentToast('Senha invalida');\r\n          }\r\n        });\r\n    }\r\n  }\r\n}\r\n","export class User {\r\n  email: string;\r\n  password: string;\r\n}\r\n"],"sourceRoot":""}